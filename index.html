<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Memory Card Game</title>
<style>
  body {
    font-family: Arial, sans-serif;
    background: #f0f4f8;
    display: flex;
    flex-direction: column;
    align-items: center;
    margin: 0;
    padding: 20px;
  }
  .game-container {
    position: relative;
    max-width: 600px;
    width: 100%;
    text-align: center;
  }
  #gameBoard {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 10px;
    margin-top: 20px;
  }
  .card {
    background: #fff;
    border-radius: 8px;
    height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 30px;
    cursor: pointer;
    user-select: none;
    transition: transform 0.3s ease, background 0.3s ease;
    box-shadow: 0 2px 6px rgba(0,0,0,0.2);
  }
  .card.flipped {
    background: #2563eb;
    color: #fff;
  }
  button {
    margin-top: 15px;
    padding: 10px 20px;
    border-radius: 6px;
    border: none;
    background: #2563eb;
    color: white;
    cursor: pointer;
    font-size: 16px;
  }
  button:hover {
    background: #1e40af;
  }

  /* Exit Fullscreen Button */
  .exit-btn {
    position: absolute;
    top: 10px;
    right: 10px;
    background: rgba(255,0,0,0.8);
    color: white;
    border: none;
    border-radius: 50%;
    width: 35px;
    height: 35px;
    font-size: 18px;
    cursor: pointer;
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 100;
    transition: background 0.3s ease;
  }
  .exit-btn:hover {
    background: rgba(255,0,0,1);
  }
</style>
</head>
<body>
<div class="game-container">
  <h1>üÉè Memory Card Game</h1>
  <div class="game-info">
    <span id="moves">Moves: 0</span> |
    <span id="timer">Time: 0s</span>
  </div>
  <div id="gameBoard"></div>
  <button id="restartBtn">Restart Game</button>

  <!-- Exit Fullscreen Button -->
  <button class="exit-btn" id="exitBtn">‚úñ</button>
</div>

<script>
const symbols = ['üçé','üçå','üçá','üçí','ü•ë','üçâ','üçã','üçì'];
let cards = [...symbols, ...symbols];
let flipped = [];
let moves = 0;
let matches = 0;
let timer = 0;
let interval;

const gameBoard = document.getElementById('gameBoard');
const movesDisplay = document.getElementById('moves');
const timerDisplay = document.getElementById('timer');
const restartBtn = document.getElementById('restartBtn');
const exitBtn = document.getElementById('exitBtn');

function shuffle(array) {
  for (let i = array.length - 1; i > 0; i--) {
    const j = Math.floor(Math.random() * (i + 1));
    [array[i], array[j]] = [array[j], array[i]];
  }
  return array;
}

function startTimer() {
  clearInterval(interval);
  timer = 0;
  interval = setInterval(() => {
    timer++;
    timerDisplay.textContent = `Time: ${timer}s`;
  }, 1000);
}

function createBoard() {
  gameBoard.innerHTML = '';
  flipped = [];
  moves = 0;
  matches = 0;
  movesDisplay.textContent = 'Moves: 0';
  timerDisplay.textContent = 'Time: 0s';
  clearInterval(interval);
  startTimer();

  shuffle(cards).forEach((symbol) => {
    const card = document.createElement('div');
    card.classList.add('card');
    card.dataset.symbol = symbol;
    card.innerText = '';
    card.addEventListener('click', flipCard);
    gameBoard.appendChild(card);
  });
}

function flipCard(e) {
  const card = e.target;
  if (card.classList.contains('flipped') || flipped.length === 2) return;

  card.classList.add('flipped');
  card.innerText = card.dataset.symbol;
  flipped.push(card);

  if (flipped.length === 2) {
    moves++;
    movesDisplay.textContent = `Moves: ${moves}`;
    checkMatch();
  }
}

function checkMatch() {
  const [first, second] = flipped;
  if (first.dataset.symbol === second.dataset.symbol) {
    matches++;
    flipped = [];
    if (matches === symbols.length) {
      clearInterval(interval);
      alert(`üéâ You won in ${moves} moves and ${timer}s!`);
    }
  } else {
    setTimeout(() => {
      first.classList.remove('flipped');
      second.classList.remove('flipped');
      first.innerText = '';
      second.innerText = '';
      flipped = [];
    }, 1000);
  }
}

restartBtn.addEventListener('click', createBoard);

// Fullscreen functionality
document.querySelector('.game-container').addEventListener('dblclick', () => {
  const elem = document.querySelector('.game-container');
  if (elem.requestFullscreen) elem.requestFullscreen();
  else if (elem.mozRequestFullScreen) elem.mozRequestFullScreen();
  else if (elem.webkitRequestFullscreen) elem.webkitRequestFullscreen();
  else if (elem.msRequestFullscreen) elem.msRequestFullscreen();
});

// Exit Fullscreen Button
exitBtn.addEventListener('click', () => {
  if (document.exitFullscreen) document.exitFullscreen();
  else if (document.mozCancelFullScreen) document.mozCancelFullScreen();
  else if (document.webkitExitFullscreen) document.webkitExitFullscreen();
  else if (document.msExitFullscreen) document.msExitFullscreen();
});

// ESC key exits fullscreen
document.addEventListener('keydown', (e) => {
  if (e.key === "Escape") {
    if (document.exitFullscreen) document.exitFullscreen();
  }
});

// Initialize game
createBoard();
</script>
</body>
</html>
